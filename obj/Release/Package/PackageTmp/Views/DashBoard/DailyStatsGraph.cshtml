@model RetailKing.Models.NotificationDash

@{
    ViewBag.Title = "Index";
}

<div class="col-md-12 col-sm-12 col-xs-12">
    <div class="x_panel">

        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="dashboard_graph">
                    <div class="row x_title">
                        <div class="col-md-12">
                            <h3>Marketing Activities <small>Graph shows top 10 campaigns today</small></h3>
                        </div>
                      
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                       
                            <div class="x_content2">
                                <div id="graphx" style="width:100%; height:300px;"></div>
                            </div>
                     </div>
                    
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
</div>


 <script type="text/javascript">
     $(function () {
        
             try{
                 var x = @Html.Raw(Json.Encode(@ViewBag.data));
             }catch(e)
             {
                 x = [];
             }

             Morris.Bar({
                 element: 'graphx',
                 data:JSON.parse(x) ,
                 xkey: 'Period',
                 ykeys: ['NewAccounts', 'Points', 'Adverts'],
                 labels: ['NewAccounts', 'Points', 'Adverts'],
                 barRatio: 0.4,
                 barColors: ['#26B99A', '#34495E', '#ACADAC', '#3498DB'],
                 xLabelAngle: 35,
                 hideHover: 'auto',
                 resize: true
             });
       
             try{
                 var sms = @Html.Raw(Json.Encode(@ViewBag.data));
             }catch(e)
             {
                 sms = [];
             }
             Morris.Bar({
                 element: 'graphx',
                 data: JSON.parse(sms) ,
                 xkey: 'device',
                 ykeys: ['SMS Messages'],
                 labels: ['SMS Messages'],
                 barRatio: 0.4,
                 barColors: ['#26B99A', '#34495E', '#ACADAC', '#3498DB'],
                 xLabelAngle: 35,
                 hideHover: 'auto',
                 resize: true
             });
         
     });
 </script>
