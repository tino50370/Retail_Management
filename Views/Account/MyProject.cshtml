@model IEnumerable<RetailKing.Models.Invite>
@{
    ViewBag.Title = "My Account";
}

<script src="@Url.Content("~/Scripts/store/main-script.js")"></script>
<!-- Main Content -->
  <script type="text/javascript">
    $(document).ready(function () {
        $(".PayDetails").click(function (e) {
            var select = $(this);
            var id = select.attr('id');
       
            $("#" + id).removeClass('purple');
            $("#" + id).css("background", "#DDA0DD"); 
        });
    });
</script>
<section class="main-content col-lg-12 col-md-12 col-sm-129">

    <div class="row">

        <!-- Heading -->
        <div class="col-lg-12 col-md-12 col-sm-12">

            <div class="carousel-heading no-margin">
                <h4>My Invitations</h4>
            </div>

            <div class="page-content">
                <div class="row">
                    <div>
                        <a href="@Url.Action("Invite","Account")" class="button orange PayDetails" style="cursor:pointer;">Send Invite</a>
                    </div><br />
                    @{
                        var mnt = DateTime.Now.Month;
                    }
                    <table class="order-table">
                        <tr>
                            <th>Date</th>
                            <th>Receipt Number</th>
                            <th>Amount</th>
                            <th>Status</th>
                        </tr>
                      

                        @foreach (var item in Model)
                        {

                        <tr>
                            <td>@item.FriendName </td>
                            <td>@item.Email </td>
                            <td>@item.Dated </td>
                            @if (item.Status.Trim() == "A")
                            {
                                <td>
                                    <a id="Inv_@item.Id" href="@Url.Action("ProgressCheck", "Account", new { id = item.Id })" class="button orange  small PayDetails" style="cursor:pointer; float:right "> Progress</a>
                                    <span style="cursor:pointer; float:right;margin-right:10px;  color:#21BF64 ">Accepted</span>
                                </td>
                            }
                            else
                            {
                                var tt = (DateTime.Now - item.Dated);
                                <td>
                                    @if (item.Status.Trim() == "F" && (tt.Value.Days) < 8)
                                    {
                                        <a id="Inv_@item.Id" class="button small " style="cursor:pointer; float:right; background: #DDA0DD ">Follow Up</a>
                                    }
                                    else
                                    {
                                        <a id="Inv_@item.Id" href="@Url.Action("Email", "Account", new { id= item.Id})" class="button purple small PayDetails" style="cursor:pointer; float:right ">Follow Up</a>
                                    }
                                    
                                    <span  style="cursor:pointer; float:right; margin-right:10px; color:#ff0000">Pending</span>
                                </td>
                            }
                        </tr>

                        }
                        @if (Model.Count() == 0)
                        {
                        <tr>
                            <td colspan="5"> there are no transactions</td>
                        </tr>
                        }

                    </table>

                </div>

            </div>

        </div>

    </div>


</section>